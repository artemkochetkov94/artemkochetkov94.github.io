"use strict";Array.from||(Array.from=function(){var t=Object.prototype.toString,l=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},o=Math.pow(2,53)-1,a=function(e){var t,n=(t=Number(e),isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t);return Math.min(Math.max(n,0),o)};return function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,o=1<arguments.length?arguments[1]:void 0;if(void 0!==o){if(!l(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var i,s=a(t.length),r=l(this)?Object(new this(s)):new Array(s),c=0;c<s;)i=t[c],r[c]=o?void 0===n?o(i,c):o.call(n,i,c):i,c+=1;return r.length=s,r}}()),function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype);var m10=1023,m7=767;document.addEventListener("DOMContentLoaded",function(e){var t,n,o,i,s,r,c,l,a,u,d,p,f,h,v,m,g,y,b,w,S,k,q,_,x,L,A,E,j,C;switch(t=document.querySelectorAll(".js-expand-btn"),Array.prototype.forEach.call(t,function(e){e.addEventListener("click",function(){e.nextElementSibling.classList.add("show"),e.parentNode.removeChild(e)})}),n=document.querySelectorAll(".list-filter-title"),Array.prototype.forEach.call(n,function(e){e.addEventListener("click",function(){e.parentNode.classList.toggle("show")})}),o=document.querySelectorAll(".js-label-fly"),Array.prototype.forEach.call(o,function(t){var e=t.querySelector(".input");""!==e.value&&t.classList.add("active"),e.addEventListener("change",function(e,t){""!==e.value?t.classList.contains("active")||t.classList.add("active"):t.classList.contains("active")&&t.classList.remove("active")}.bind(null,e,t)),e.addEventListener("click",function(){if(t.classList.contains("error")){t.classList.remove("error");var e=t.querySelector(".error-text");t.removeChild(e)}})}),function(){function o(e,t){var n=e.getAttribute("data-change");switch(n){case"minus":(function(e){var t=e.value;if(1<+t)return e.value=+t-1,e.value<10&&(e.value="0"+e.value),!0})(t);break;case"plus":(function(e){var t=e.value;e.value=+t+1,e.value<10&&(e.value="0"+e.value);return!0})(t)}}function i(e){e.value=e.value.replace(/[^\d]/g,"")}return e=document.querySelectorAll(".quantity-counter"),Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".quantity-counter__input"),n=e.querySelectorAll(".js-quantity-counter__control");Array.prototype.forEach.call(n,function(e){e.addEventListener("click",o.bind(null,e,t))}),t.addEventListener("keyup",i.bind(null,t))});var e}(),i=document.querySelectorAll(".select"),Array.prototype.forEach.call(i,function(e){var t=e.querySelector(".js-select-desktop");t.addEventListener("click",function(e){e.classList.contains("open")?e.classList.remove("open"):e.classList.add("open")}.bind(null,t))}),function(){function i(e,t){"enabled"==(!0===e.checked?"enabled":"disabled")?[].forEach.call(t,function(e){e.setAttribute("disabled",!0)}):[].forEach.call(t,function(e){e.removeAttribute("disabled")})}return e=document.querySelectorAll(".js-block-choice-wrapper"),[].forEach.call(e,function(e){var t=e.querySelector(".js-block-choice-handler"),n=e.querySelector(".block-choice__checkbox"),o=e.querySelectorAll(".js-block-choice-btn");t.addEventListener("click",i.bind(null,n,o))});var e}(),s=document.querySelector(".js-feedback-popup"),r=document.querySelector(".feedback-popup"),$(s).click(function(e){e.preventDefault(),$.magnificPopup.open({items:{src:r},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%"><svg class="icon-svg icon-close" width="100%" height="100%">  <use xlink:href="img/static/icons.svg#icon-close"></use></svg></button>',tClose:"Закрыть"},0)}),null!==(c=document.querySelector(".hero-carousel__inner"))&&1<c.querySelectorAll(".hero-carousel__item").length&&$(".hero-carousel__inner").slick({dots:!0,dotsClass:"slick-dots dots-type1",prevArrow:'<button type="button" class="slick-arrow slick-arrow--prev slick-arrow--type1" aria-label="Previous">  <svg class="icon-svg icon-arrow-prev" width="100%" height="100%">    <use xlink:href="img/static/icons.svg#icon-arrow-prev"></use>  </svg></button>',nextArrow:'<button type="button" class="slick-arrow slick-arrow--next slick-arrow--type1"> <svg class="icon-svg icon-arrow-next" width="100%" height="100%" aria-label="Next">    <use xlink:href="img/static/icons.svg#icon-arrow-next"></use>  </svg></button>',appendArrows:$(".hero-carousel__control"),appendDots:$(".hero-carousel__control"),fade:!0,slidesToShow:1,slidesToScroll:1}),null!==(l=document.querySelector(".js-offers-carousel"))&&2<l.querySelectorAll(".offers__item").length&&$(l).slick({slidesToShow:3,slidesToScroll:3,prevArrow:'<button type="button" class="slick-btn slick-btn--prev slick-btn--type2" aria-label="Previous">\t<svg class="icon-svg icon-arrow-rounded-left" width="100%" height="100%">\t\t<use xlink:href="img/static/icons.svg#icon-arrow-rounded-left"></use>\t</svg></button>',nextArrow:'<button type="button" class="slick-btn slick-btn--next slick-btn--type2" aria-label="Next">\t<svg class="icon-svg icon-arrow-rounded-right" width="100%" height="100%">\t\t<use xlink:href="img/static/icons.svg#icon-arrow-rounded-right"></use>\t</svg></button>',dots:!0,dotsClass:"slick-dots dots-type2",responsive:[{breakpoint:1101,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),null!==(a=document.querySelector(".products__inner.carousel"))&&$(a).slick({slidesToShow:5,slidesToScroll:3,dots:!0,dotsClass:"slick-dots dots-type2",adaptiveHeight:!0,prevArrow:'<button type="button" class="slick-btn slick-btn--prev slick-btn--type2" aria-label="Previous">\t<svg class="icon-svg icon-arrow-rounded-left" width="100%" height="100%">\t\t<use xlink:href="img/static/icons.svg#icon-arrow-rounded-left"></use>\t</svg></button>',nextArrow:'<button type="button" class="slick-btn slick-btn--next slick-btn--type2" aria-label="Next">\t<svg class="icon-svg icon-arrow-rounded-right" width="100%" height="100%">\t\t<use xlink:href="img/static/icons.svg#icon-arrow-rounded-right"></use>\t</svg></button>',responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3,dots:!1}},{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,dots:!1,arrows:!1}},{breakpoint:768,settings:{slidesToShow:2,sidesToScroll:2,dots:!1,arrows:!1}}]}),null!==(u=document.querySelector(".products-mini__inner"))&&$(u).slick({slidesToShow:4,slidesToScroll:2,dots:!0,dotsClass:"slick-dots dots-type2",arrows:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:550,settings:{slidesToShow:2,slidesToScroll:2}}]}),d=$(".js-car-gallery-for"),p=$(".js-car-gallery-nav"),d.length&p.length&&(d.slick({slidesToShow:1,slidesToScroll:1,infinite:!1,arrows:!1,asNavFor:".js-car-gallery-nav",lazyLoad:"progressive"}),p.slick({lazyLoad:"progressive",slidesToShow:6,slidesToScroll:1,infinite:!1,asNavFor:".js-car-gallery-for",focusOnSelect:!0,centerPadding:50,customPaging:50,prevArrow:'<button type="button" class="slick-btn slick-btn--type1 slick-btn--prev" aria-label="Previous">\t<svg class="icon-svg icon-arrow-rounded-left" width="100%" height="100%">\t\t<use xlink:href="img/static/icons.svg#icon-arrow-rounded-left"></use>\t</svg></button>',nextArrow:'<button type="button" class="slick-btn slick-btn--type1 slick-btn--next" aria-label="Next">\t<svg class="icon-svg icon-arrow-rounded-right" width="100%" height="100%">\t\t<use xlink:href="img/static/icons.svg#icon-arrow-rounded-right"></use>\t</svg></button>',responsive:[{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:1,dots:!1,arrows:!1}}]})),$(".brazzers__thumbs").each(function(){var e=$(this);e.siblings(".brazzers__images").find("img").each(function(){e.append("<i>")})}),$(".brazzers__thumbs i").hover(function(){if(!window.matchMedia("(max-width: 600px)").matches){var e=$(this).parent(".brazzers__thumbs").siblings(".brazzers__images").find("img"),t=$(this).parent().find("i");$(this).parents(".brazzers").css("opacity",1),e.css("opacity",0).eq($(this).index()).css("opacity",1),t.removeClass("is-active"),$(this).addClass("is-active")}}).parents(".brazzers").mouseleave(function(){window.matchMedia("(max-width: 600px)").matches||$(this).css("opacity",0)}),(f=$(".card-product__gallery-inner")).length&&f.slick({prevArrow:'<button type="button" class="slick-btn slick-btn--prev slick-btn--square" aria-label="Previous"></button>',nextArrow:'<button type="button" class="slick-btn slick-btn--next slick-btn--square" aria-label="Next"></button>',infinite:!1,slidesToShow:1,slidesToScroll:1}),window.initPhotoSwipeFromDOM=function(e,u){for(var t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,n=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))}(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(n){var o,i;o=u?n.parentNode.parentNode.parentNode:n.parentNode;for(var s,r=(i=n.parentNode.childNodes).length,c=0,l=0;l<r;l++)if(1===i[l].nodeType){if(u){if(i[l]===n){s=c;break}}else if(i[l]===n){s=c;break}c++}return 0<=s&&a(s,o),!1}},a=function(e,t,n,o){var i,s,r=document.querySelectorAll(".pswp")[0];if(s=function(e){for(var t,n,o,i,s,r=e.querySelector(".slick-track"),c=(t=u?r.childNodes:e.childNodes).length,l=[],a=0;a<c;a++)1===(n=t[a]).nodeType&&(o=n.children[0],i=o.getAttribute("data-size").split("x"),s={src:o.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10)},1<n.children.length&&(s.title=n.children[1].innerHTML),0<o.children.length&&(s.msrc=o.children[0].getAttribute("src")),s.el=n,l.push(s));return l}(t),i={galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=s[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,o=t.getBoundingClientRect();return{x:o.left,y:o.top+n,w:o.width}}},o)if(i.galleryPIDs){for(var c=0;c<s.length;c++)if(s[c].pid==e){i.index=c;break}}else i.index=parseInt(e,10)-1;else i.index=parseInt(e,10);isNaN(i.index)||(n&&(i.showAnimationDuration=0),new PhotoSwipe(r,PhotoSwipeUI_Default,s,i).init())},n=document.querySelectorAll(e),o=0,i=n.length;o<i;o++)n[o].setAttribute("data-pswp-uid",o+1),n[o].onclick=t;var s=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),o=0;o<n.length;o++)if(n[o]){var i=n[o].split("=");i.length<2||(t[i[0]]=i[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();s.pid&&s.gid&&a(s.pid,n[s.gid-1],!0,!0)},function(){var e=document.querySelector(".js-car-filter-expand-btn");if(null!==e){var t=document.querySelector(".car-filter__foot");e.addEventListener("click",function(){t.classList.toggle("show")})}}(),h=document.querySelectorAll(".car-info-group"),Array.prototype.forEach.call(h,function(e){var t=e.querySelector(".car-info-group__title");t.addEventListener("click",function(e){e.classList.toggle("show")}.bind(null,e))}),v=document.querySelector(".js-car-sale-btn-more"),m=document.querySelector(".js-car-sale__filter"),g=0,null!==v&&null!==m&&v.addEventListener("click",function(){g||(m.classList.contains("show")?(m.classList.remove("show"),m.classList.remove("box-overflow-visible")):(m.classList.add("show"),setTimeout(function(){m.classList.add("box-overflow-visible")},500)),g=1,setTimeout(function(){g=0},500))}),function(){function s(e,t,n){n.preventDefault();var o=e.getAttribute("data-title");if(null!==t.subtitle){var i=e.getAttribute("data-subtitle");t.subtitle.textContent=i}t.title.textContent=o,$.magnificPopup.open({items:{src:t.popup},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%">\t<svg class="icon-svg icon-close" width="100%" height="100%">\t\t<use xlink:href="img/static/icons.svg#icon-close"></use>\t</svg></button>',tClose:"Закрыть"},0)}(function(){var e=document.querySelectorAll(".js-popup-all-btn");if(e.length<1)return;var t=document.querySelector(".popup-all"),n=t.querySelector(".js-popup-all__title"),o=t.querySelector(".js-popup-all__subtitle"),i={popup:t,title:n,subtitle:o};Array.prototype.forEach.call(e,function(e){e.addEventListener("click",s.bind(null,e,i))})})()}(),y=document.querySelectorAll(".checkbox-circle"),Array.prototype.forEach.call(y,function(e){var t=e.querySelector(".checkbox-circle__input"),n=e.querySelectorAll(".checkbox-circle__variant");Array.prototype.forEach.call(n,function(e){e.addEventListener("click",function(){1==n.length&&(t.checked=!t.checked),2==n.length&&(e.classList.contains("checkbox-circle__variant--disabled")&&(t.checked=!1),e.classList.contains("checkbox-circle__variant--enabled")&&(t.checked=!0))})})}),$("body").on("click",".popup-close",function(){$.magnificPopup.close()}),$("body").attr("data-route")){case"home":z(),O();break;case"catalog":z(),F(),R(),I(),H(),M(),B();break;case"car-order":z(),E=document.querySelector(".js-popup-pre-order"),j=document.querySelector(".pre-order"),$(E).click(function(e){e.preventDefault(),$.magnificPopup.open({items:{src:j},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%"><svg class="icon-svg icon-close" width="100%" height="100%">  <use xlink:href="img/static/icons.svg#icon-close"></use></svg></button>',tClose:"Закрыть"},0)}),R(),M(),B();break;case"card-product":N(),H();break;case"product-category":N(),H(),A=document.querySelectorAll(".list-cars-title"),Array.prototype.forEach.call(A,function(e){var t=e.parentNode;e.addEventListener("click",function(e){e.classList.toggle("show")}.bind(null,t))});break;case"about":P(),function(){function n(e){e.classList.toggle("show")}return e=document.querySelectorAll(".vacancies-list__item"),[].forEach.call(e,function(e){var t=e.querySelector(".js-vacancy-btn");t.addEventListener("click",n.bind(null,e))});var e}(),x=document.querySelector(".vacancies-list"),L=document.querySelector(".popup-response"),x.addEventListener("click",function(e){e.target.classList.contains("js-popup-response")&&$.magnificPopup.open({items:{src:L},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%"><svg class="icon-svg icon-close" width="100%" height="100%">  <use xlink:href="img/static/icons.svg#icon-close"></use></svg></button>',tClose:"Закрыть"},0)});break;case"car":!function(){var n=document.querySelector(".car__side"),o=document.querySelector(".car__content"),e=n.querySelector(".side-t1"),i=o.querySelector(".car__gallery"),s=0;function t(e){var t=document.querySelector(".car-sticky");window.matchMedia("(max-width: "+m10+"px)").matches?0==s&&(o.insertBefore(e,i.nextSibling),s=1):1==s&&(null!=t?t.insertBefore(e,t.children[0]):n.insertBefore(e,n.children[0]),s=0)}(function(){window.matchMedia("(max-width: "+m10+"px)").matches&&t(e);window.addEventListener("resize",t.bind(null,e))})()}(),N(),H(),I(),F(),O(),q=document.querySelector(".js-popup-tradein"),_=document.querySelector(".popup-tradein"),$(q).click(function(e){e.preventDefault(),$.magnificPopup.open({items:{src:_},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%"><svg class="icon-svg icon-close" width="100%" height="100%">  <use xlink:href="img/static/icons.svg#icon-close"></use></svg></button>',tClose:"Закрыть"},0)}),R();break;case"kasko":D(".js-kasko-filling");break;case"credit":D(".js-credit-filling");break;case"car-sale":S=document.querySelectorAll(".car-sale-list__item"),k=document.querySelector(".js-car-sale-list-label"),Array.prototype.forEach.call(S,function(e){var t=e.querySelector(".car-sale-list__item-input"),n=e.querySelector(".car-sale-list__item-label"),o=e.querySelector(".car-sale-list__item-description");t.checked&&(k.innerHTML=o.innerHTML),n.addEventListener("click",function(){k.innerHTML=o.innerHTML})}),b=document.querySelectorAll(".js-popup-offer"),w=document.querySelector(".popup-offer"),$(b).click(function(e){e.preventDefault(),$.magnificPopup.open({items:{src:w},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%"><svg class="icon-svg icon-close" width="100%" height="100%">\t<use xlink:href="img/static/icons.svg#icon-close"></use></svg></button>',tClose:"Закрыть"},0)});break;case"special-offers":!function(){function e(e){var t=new XMLHttpRequest;t.open("GET","data/offers.json",!1),t.send();var n=null;200==t.status&&(n=function(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;n++){var o=document.createElement("div");o.classList.add("offers__item"),o.innerHTML='<a href="'+e[n].link+'" class="offers__item-img">  <img src="'+e[n].img+'" alt="#"></a><div class="offers__item-description">  <a href="'+e[n].link+'" class="offers__item-title title-20">'+e[n].title+'</a>  <div class="offers__item-time">'+e[n].description+"</div></div>",t.appendChild(o)}return t}(JSON.parse(t.responseText)),e.appendChild(n))}return t=document.querySelector(".js-offers-more"),n=document.querySelector(".offers"),t.addEventListener("click",e.bind(null,n));var t,n}()}function T(t,n){var o,i,s=!1;return function e(){if(s)return o=arguments,void(i=this);t.apply(this,arguments),s=!0,setTimeout(function(){s=!1,o&&(e.apply(i,o),o=i=null)},n)}}function M(){function c(){var e,t=this.parentNode,n=t.querySelector(".js-table__expand-btn");t.classList.contains("show")?(t.classList.remove("show"),e=t,$("html, body").animate({scrollTop:e.offsetTop+(window.outerHeight-200)},"slow"),n.textContent="Развернуть"):(t.classList.add("show"),n.textContent="Свернуть")}function l(e,n){e.forEach(function(e){if(e.same)if(n){e.elements[0].closest(".table__row").classList.remove("row-title-hide");for(var t=1;t<e.elements.length;t++)e.elements[t].classList.remove("hide")}else{e.elements[0].closest(".table__row").classList.add("row-title-hide");for(t=1;t<e.elements.length;t++)e.elements[t].classList.add("hide")}})}function a(e,t){switch(e.checked){case!1:l(t,!0);break;case!0:l(t,!1)}}return function(){var e=document.querySelector(".table-outer"),t=e.querySelectorAll(".js-table__expand-btn"),n=e.querySelectorAll(".js-table__rows-title"),o=(e.querySelector(".js-table-differences-filter .checkbox-circle__label"),e.querySelector(".js-table-differences-filter .checkbox-circle__input")),i=e.querySelector(".checkbox-circle__variant"),s=e.querySelectorAll(".table__body .table__row");Array.prototype.forEach.call(n,function(e){e.addEventListener("click",function(){this.parentNode.classList.toggle("show")}.bind(e))}),Array.prototype.forEach.call(t,function(e){e.addEventListener("click",c.bind(e))});var r=[];Array.prototype.forEach.call(s,function(e){var t=e.querySelectorAll("*[data-value]"),n=[],o=[],i=!1;Array.prototype.forEach.call(t,function(e){n.push(e.getAttribute("data-value")),o.push(e)}),function(){for(var e=0;e<n.length;e++)if(n[0]!==n[e])return;i=!0}(),r.push({data:n,elements:o,same:i})}),l(r,!o.checked),o.addEventListener("change",a.bind(null,o,r)),i.addEventListener("click",a.bind(null,o,r))}()}function N(){var e=document.querySelectorAll(".js-add-to-cart"),t=document.querySelector(".basket-popup"),n=document.querySelector(".js-order-popup"),o=document.querySelector(".js-order-popup-close"),i=document.querySelector(".order-popup");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault(),$.magnificPopup.open({items:{src:t},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%"> <svg class="icon-svg icon-close" width="100%" height="100%">\t<use xlink:href="img/static/icons.svg#icon-close"></use> </svg></button>',tClose:"Закрыть"},0)})}),$(n).click(function(){$.magnificPopup.close(),setTimeout(function(){$.magnificPopup.open({items:{src:i},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%"><svg class="icon-svg icon-close" width="100%" height="100%">  <use xlink:href="img/static/icons.svg#icon-close"></use></svg></button>',tClose:"Закрыть"},0)},100)});var s=i.querySelector(".js-order-popup-choice label"),r=i.querySelector(".js-order-popup-choice input"),c=i.querySelectorAll(".js-order-popup-btn");s.addEventListener("click",function(){1==(!0===r.checked?1:0)?Array.prototype.forEach.call(c,function(e){e.setAttribute("disabled",!0)}):Array.prototype.forEach.call(c,function(e){e.removeAttribute("disabled")})}),o.addEventListener("click",function(){$.magnificPopup.close()})}function P(){var e=document.querySelector(".map"),t=JSON.parse(e.getAttribute("data-geo")),n=t[0].lat,o=t[0].lng;ymaps.ready(function(){(P=new ymaps.Map("map",{center:[n,o],zoom:7})).behaviors.disable("scrollZoom")})}function D(e){var t,n={NEXT:"next",PREV:"prev"},c={0:"Шаг первый",1:"Шаг второй",2:"Шаг третий",3:"Шаг четвертый"};function o(){this.slides=[],this.slidesCount=0,this.currentStep=0}function i(){this.container=document.querySelector(e),this.steps=this.container.querySelectorAll(".js-filling-step"),this.stepTitle=this.container.querySelector(".js-step-title"),this.slides=this.container.querySelectorAll(".js-filling-item"),this.nav=this.container.querySelectorAll(".js-filling-control")}function s(i,s){var r=this;this.init=function(){r.setId(),i.slidesCount=s.slides.length,[].forEach.call(s.nav,function(e){e.id=e.getAttribute("data-direction"),e.addEventListener("click",r.checkDirection.bind(null,e))})},this.setId=function(){[].forEach.call(s.slides,function(e,t){e.setAttribute("data-id",t)}),[].forEach.call(s.steps,function(e,t){e.setAttribute("data-id",t)})},this.checkDirection=function(e){r.slidesControl(e.id)},this.permissionToMove=function(e){return e==n.NEXT?i.currentStep<i.slidesCount-1:e==n.PREV?0<i.currentStep:void 0},this.slidesControl=function(e){if(!r.permissionToMove(e))return!1;switch(r.closeStep(),e){case"next":s.steps[i.currentStep].classList.add("finished"),i.currentStep+=1;break;case"prev":i.currentStep-=1}s.container.setAttribute("data-stage",i.currentStep+1);var t=s.slides[i.currentStep],n=s.steps[i.currentStep],o=s.stepTitle;t.classList.add("show"),n.classList.add("active"),o.textContent=c[i.currentStep]},this.closeStep=function(){var e=s.steps[i.currentStep],t=s.slides[i.currentStep];e.classList.remove("active"),t.classList.remove("show")}}return t=new i,void new s(new o,t).init()}function z(){var t=document.querySelector(".l-tradein-tabs"),e=t.querySelectorAll(".l-tradein-tabs__nav-item"),n=document.querySelector(".js-tradein-title");Array.prototype.forEach.call(e,function(e){e.classList.contains("active")&&(n.textContent=e.getAttribute("data-title")),e.addEventListener("click",function(e){t.querySelector(".l-tradein-tabs__nav-item.active").classList.remove("active"),e.classList.add("active"),t.insertBefore(e,t.firstChild),n.textContent=e.getAttribute("data-title")}.bind(null,e))})}function I(){var e=document.querySelector(".js-goods-item-handler"),t=e.parentNode;e.addEventListener("click",function(e){e.classList.toggle("show")}.bind(null,t))}function O(){var e=document.querySelector(".js-popup-sentence"),t=document.querySelector(".popup-sentence");$(e).click(function(e){e.preventDefault(),$.magnificPopup.open({items:{src:t},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%"><svg class="icon-svg icon-close" width="100%" height="100%">  <use xlink:href="img/static/icons.svg#icon-close"></use></svg></button>',tClose:"Закрыть"},0)})}function F(){var e=document.querySelectorAll(".js-popup-book-it"),t=document.querySelector(".popup-book-it");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault(),$.magnificPopup.open({items:{src:t},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%">\t<svg class="icon-svg icon-close" width="100%" height="100%">\t\t<use xlink:href="img/static/icons.svg#icon-close"></use>\t</svg></button>',tClose:"Закрыть"},0)})})}function R(){var e=document.querySelectorAll(".js-popup-credit"),t=document.querySelector(".popup-credit");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault(),$.magnificPopup.open({items:{src:t},type:"inline",fixedContentPos:!0,closeMarkup:'<button class="popup-close mfp-close" type="button" title="%title%">  <svg class="icon-svg icon-close" width="100%" height="100%">    <use xlink:href="img/static/icons.svg#icon-close"></use>  </svg></button>',tClose:"Закрыть"},0)})})}function B(){return e=document.getElementById("js-car-filter"),t=e.querySelector(".filter-reset"),n=e.querySelectorAll(".js-select"),o=e.querySelectorAll(".range-slider .range"),void t.addEventListener("click",function(){e.reset(),$(n).selectric("refresh"),Array.prototype.forEach.call(o,function(e){$(e).data("ionRangeSlider").reset()})});var e,t,n,o}function H(){function s(e,t){t.textContent=e.value,"0"==t.textContent[0]&&(t.textContent=t.textContent.substring(1))}return e=document.querySelectorAll(".basket-item"),void[].forEach.call(e,function(e){var t=e.querySelector(".basket-item__remove"),n=e.querySelector(".basket-item__count"),o=e.querySelector(".quantity-counter__input"),i=e.querySelectorAll(".js-quantity-counter__control");t.addEventListener("click",function(e){e.parentNode.removeChild(e)}.bind(null,e)),Array.prototype.forEach.call(i,function(e){e.addEventListener("click",s.bind(null,o,n))}),o.addEventListener("keyup",s.bind(null,o,n))});var e}window.animateDelay={delay:function(e,n,o,t){return Array.apply(null,e).forEach(function(e,t){e.style.transitionDelay=n+t*o+"s"}),Array.from(e).length*o+n+t},reverseDelay:function(e,n,o){Array.apply(null,e).forEach(function(e,t){e.style.transitionDelay=n-t*o+"s"})}},window.swimming={toSwim:function(e){e.classList.contains("out")||e.classList.add("out")},dontSwim:function(e){e.classList.contains("out")&&e.classList.remove("out")}},function(){var e,t,n,o=document.querySelector(".p-wrapper"),i=o.querySelector(".p-header"),s=o.querySelector(".p-content"),r=i.querySelector(".nav-main"),c=r.querySelectorAll(".nav-list__item"),l=o.querySelector(".p-header-second-line__inner"),a=o.querySelector(".p-header-mobile__part"+r.getAttribute("mobile-part")),u=o.querySelector(".p-header-mobile__part2"),d=i.querySelector(".js-burger"),p=document.querySelector('*[data-submenu-id="1"]'),f=p.querySelector(".submenu-list"),h=f.querySelector(".submenu-list__item.active"),v=f.querySelector(".submenu-list__expand");function m(e){d.classList.remove("is-active"),i.classList.remove("is-active"),document.body.classList.remove("overflow-hidden"),"function"==typeof e&&e()}function g(){var e=window.animateDelay.delay(c,.3,.05,.35);u.style.transitionDelay=e+"s"}function y(){window.animateDelay.reverseDelay(c,.65,.05),u.style.transitionDelay="0.05s"}d.addEventListener("click",function(){var e;i.classList.contains("is-active")?m(y):(e=g,d.classList.add("is-active"),i.classList.add("is-active"),document.body.classList.add("overflow-hidden"),"function"==typeof e&&e())}),e=T(function(){window.matchMedia("(max-width: "+m10+"px)").matches?null==a.querySelector(".nav-main")&&a.appendChild(r):(null==l.querySelector(".nav-main")&&l.appendChild(r),i.classList.contains("is-active")&&m(),window.swimming.dontSwim(i))},100),window.matchMedia("(max-width: "+m10+"px)").matches&&a.appendChild(r),window.addEventListener("resize",function(){e()}),i.classList.contains("p-header-submenu-fixed")&&(v.textContent=h.textContent,window.matchMedia("(max-width: "+m10+"px)").matches&&o.insertBefore(f,s),v.addEventListener("click",function(){f.classList.toggle("show")}),window.addEventListener("resize",function(){window.matchMedia("(max-width: "+m10+"px)").matches?null==document.querySelector(".page-wrapper > .submenu-list")&&o.insertBefore(f,s):null==p.querySelector(".submenu-list")&&p.appendChild(f)})),t=0,n=T(function(){if(window.matchMedia("(max-width: "+m10+"px)").matches){if(i.classList.contains("is-active"))return;if(window.pageYOffset<0)return void window.swimming.dontSwim(i);if(window.pageYOffset<70)return void window.swimming.dontSwim(i);window.pageYOffset>t?window.swimming.toSwim(i):window.swimming.dontSwim(i),t=window.pageYOffset}},300),window.addEventListener("scroll",function(){n()}),window.addEventListener("scroll",function(){70<window.pageYOffset?i.classList.contains("scroll")||i.classList.add("scroll"):i.classList.contains("scroll")&&i.classList.remove("scroll")})}(),C=document.querySelectorAll(".range-slider"),[].forEach.call(C,function(e){var t=e.querySelector(".range"),n=parseInt(e.getAttribute("data-min")),o=parseInt(e.getAttribute("data-max")),i=e.getAttribute("data-postfix");$(t).ionRangeSlider({type:"double",min:n,max:o,from:n,to:2e6,step:1,postfix:i,onStart:function(e){$(".range-slider__info").html(new Intl.NumberFormat("ru-RU").format(e.from)+" - "+new Intl.NumberFormat("ru-RU").format(e.to))},onChange:function(e){$(".range-slider__info").html(new Intl.NumberFormat("ru-RU").format(e.from)+" - "+new Intl.NumberFormat("ru-RU").format(e.to))}})}),$(".js-select").length&&$(".js-select").each(function(){var e=$(this);e.attr("data-enable",0),e.selectric({onChange:function(e){if($(".js-count-filter").length){var t=$(this),n=t.closest(".js-count-filter").find("span[data-count]").attr("data-count");"0"!==t.closest(".selectric-js-select").find(".selectric-scroll .selected").attr("data-index")?"0"==t.attr("data-enable")&&(n++,setFilterCounter(t.closest(".js-count-filter"),n),t.attr("data-enable","1")):(n--,setFilterCounter(t.closest(".js-count-filter"),n),t.attr("data-enable","0"))}},onOpen:function(e){var t=e.closest(".select-outer");if(t.classList.contains("error")){var n=t.querySelector(".error-text");t.classList.remove("error"),n.parentNode.removeChild(n)}}})}),$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500)})});